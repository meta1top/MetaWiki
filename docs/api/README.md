# API 文档目录

当 API 接口数量较多时，按模块拆分文档以提高可维护性。

## 文档组织原则

1. **按模块拆分**: 每个 Controller 对应一个文档文件
2. **主文档索引**: `api-contracts-server.md` 作为入口和概览
3. **统一格式**: 所有 API 文档遵循相同的格式规范
4. **版本控制**: 文档随代码一起提交和更新

## 当前状态

**当前所有接口都在主文档中**: `../api-contracts-server.md`

**建议拆分时机**:
- 单个文档超过 500 行
- 接口数量超过 30 个
- 模块数量超过 5 个

## 拆分后的文档结构

```
docs/
├── api-contracts-server.md  # 主索引文档（保留概览和索引）
└── api/                     # API 详细文档目录
    ├── README.md           # 本文件
    ├── account.md          # 账号管理 API
    ├── account-otp.md      # OTP 管理 API
    ├── wiki-repo.md        # 知识库管理 API
    ├── config.md           # 配置管理 API
    ├── assets.md           # 资源管理 API
    └── mail.md             # 邮件服务 API
```

## 文档模板

每个模块文档应包含：

```markdown
# [模块名称] API

## 概述

[模块功能描述]

**Base Path**: `/api/[path]`

## 接口列表

### [接口名称]

```http
[HTTP方法] /api/[path]
```

**认证**: [需要/不需要]

**请求体/参数**: [说明]

**响应**: [说明]

---

## 错误码

[模块特定的错误码]

## 相关文档

- [链接到其他相关文档]
```

## 维护指南

1. **新增接口**: 在对应模块文档中添加
2. **修改接口**: 更新对应文档，并在变更日志中记录
3. **删除接口**: 标记为已废弃，保留一段时间后删除

## 自动生成

考虑使用脚本自动生成文档：

```bash
# 扫描所有 Controller 生成文档
pnpm run docs:generate-api
```

